var be=Object.defineProperty;var xe=(n,t,i)=>t in n?be(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i;var D=(n,t,i)=>(xe(n,typeof t!="symbol"?t+"":t,i),i);import{a as c,r as x}from"./react.9631b713.js";import{r as we}from"./react-dom.7a407ed4.js";import{j as e,a as d,u as ve,b as Se,L as ne,F,O as Ce,R as ke,c as j,H as Ie}from"./react-router-dom.e176ec10.js";import{t as B,e as Te,C as Pe,u as ee,a as Ee,B as b,b as h,F as O,I as M,H as C,d as I,S as U,D as Re,M as oe,g as Me,h as se,i as ae,j as le,L as ce,k as A,l as Oe,T as V,m as Le,n as Ae,o as De,p as T,q as H,r as z,s as de,P as Be,v as He,w as ze,x as te,y as Fe}from"./@chakra-ui/react.6973ea70.js";import{C as Ge,H as $e,S as _e,M as je,A as Ne}from"./@chakra-ui/icons.9a4bdfae.js";import{G as L,a as Xe}from"./react-icons/gi.f19e7dae.js";import{B as Ue,a as Ve,b as qe,c as We,d as Ye}from"./react-icons/bs.8d93189f.js";import{m as w,A as W}from"./framer-motion.a6a2f950.js";import{T as Je,a as Ze}from"./react-icons/tb.4a501ffa.js";import{F as Ke,a as Qe}from"./react-icons/fa.8cf4b85f.js";import{V as et,a as tt}from"./react-icons/vsc.728d2098.js";import{A as it}from"./react-icons/ai.44cb1887.js";import"./react-icons.7623bbba.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var q={},ie=we.exports;q.createRoot=ie.createRoot,q.hydrateRoot=ie.hydrateRoot;const rt=n=>Te({fonts:{...B.fonts,body:"'Courier New', monospace;",heading:"'Courier New', monospace;"},colors:{...B.colors,primary:n},shadows:{...B.shadows,outline:"0 0 0 3px rgba(255, 255, 255, 0.16)"}}),R=Object.entries(B.colors).reduce((n,t)=>{var i;return(t==null?void 0:t[1])&&((i=t==null?void 0:t[1])==null?void 0:i[50])&&!(t!=null&&t[0].includes("Alpha"))&&(n[t[0]]=rt(t[1])),n},{}),ue=c.createContext(void 0),me=(n,t)=>{try{localStorage.setItem(`@storage_${n}`,typeof t=="string"?t:JSON.stringify(t))}catch{return null}},pe=n=>{try{const t=localStorage.getItem(`@storage_${n}`);try{return t!=null?JSON.parse(t):null}catch{return t}}catch{return null}};class nt extends c.Component{constructor(){super(...arguments);D(this,"isSystemDark",window.matchMedia("(prefers-color-scheme: dark)").matches);D(this,"state",{theme:"gray",colors:R.gray,isLoading:!1});D(this,"setTheme",i=>{this.setState({theme:i,colors:R[i]}),me("latest_settings",{theme:i})})}componentDidMount(){this.setState({isLoading:!0});const i=pe("latest_settings");i&&R[i.theme]&&this.setState({...i.theme&&{theme:i.theme,colors:R[i.theme]}}),this.setState({isLoading:!1})}render(){return e(ue.Provider,{value:{...this.state,setTheme:this.setTheme},children:e(Pe,{theme:this.state.colors,children:this.props.children})})}}const he=c.createContext(void 0),ot={"/":{name:"BiscuitMachine",icon:L}},N={name:"\u2615 Petar Zarkov",title:"Lead Software Engineer",email:"pzarko1@gmail.com",github:"https://github.com/petarzarkov/the-biscuit-machine",linkedin:"https://www.linkedin.com/in/%E2%98%95-petar-zarkov-7989a670/",twitter:"https://twitter.com/flaeryw"},g={initialTemp:200,heatedTemp:220,explodeTemp:Number({BASE_URL:"/the-biscuit-machine/",MODE:"production",DEV:!1,PROD:!0}.EXPLODE_TEMP)||260},st=({children:n})=>{const t={isRunning:!1,isPaused:!1,duration:2,isStamping:!1,isExtruding:!1,isHeated:!1,isExploded:!1,score:0,highScore:0,temperature:g.initialTemp},[i,o]=c.useReducer((r,s)=>({...r,...s}),t);return c.useEffect(()=>{const r=pe("high_score");r!=null&&r.highscore&&o({highScore:r.highscore})},[]),c.useEffect(()=>{i.score>i.highScore&&(o({highScore:i.score}),me("high_score",{highscore:i.score}))},[i.score,i.highScore]),e(he.Provider,{value:{...i,setControls:o},children:n})};function at(n,t=2e3){const[i,o]=x.exports.useState(!1),r=x.exports.useRef();let s;return x.exports.useEffect(()=>{r.current=n},[n]),x.exports.useEffect(()=>{function a(){var l;(l=r==null?void 0:r.current)==null||l.call(r)}if(!i&&s&&clearInterval(s),t!==null&&i)return s=setInterval(a,t),()=>clearInterval(s)},[t,i]),{toggleInterval:o}}function lt(){const n=c.useContext(ue);if(n===void 0)throw new Error("useThemeProvider must be used within a ThemeProvider");return n}const ct=(n=0,t=.1)=>{const[i,o]=c.useState(n),[r,s]=c.useState(!1),[a,l]=c.useState(t);return x.exports.useEffect(()=>{let u;if(r){const m=()=>{u=requestAnimationFrame(m),o(f=>f+a)};u=requestAnimationFrame(m)}return()=>{cancelAnimationFrame(u)}},[r,a,o,requestAnimationFrame,l]),{iteration:i,setIteration:o,toggleIteration:s,toggleIncrement:l}};function k(){const n=c.useContext(he);if(n===void 0)throw new Error("useAnimationProvider must be used within an AnimationProvider");return n}const dt=()=>{const{isOpen:n,onOpen:t,onClose:i}=ee(),{theme:o,setTheme:r}=lt(),{toggleColorMode:s}=Ee(),{isOpen:a,onOpen:l,onClose:u}=ee(),m=x.exports.useMemo(()=>Object.entries(ot),void 0),f=x.exports.useMemo(()=>m.map(([p,v])=>e(ut,{to:p,icon:v.icon,children:v.name},v.name)),m);return d(b,{bg:h("primary.200","primary.900"),px:4,children:[d(O,{h:16,alignItems:"center",justifyContent:"space-between",children:[e(M,{size:"md",icon:a?e(Ge,{}):e($e,{}),"aria-label":"Open Menu",display:{md:"none"},onClick:a?u:l}),e(C,{spacing:8,alignItems:"center",children:e(C,{as:"nav",spacing:4,display:{base:"none",md:"flex"},children:f})}),d(O,{alignItems:"center",children:[e(I,{onClick:n?i:t,margin:5,children:e(Ue,{})}),e(I,{onClick:s,margin:5,children:h(e(je,{}),e(_e,{}))})]})]}),a?e(b,{pb:4,display:{md:"none"},children:e(U,{as:"nav",spacing:4,children:f})}):null,d(Re,{placement:"top",onClose:i,isOpen:n,children:[e(oe,{}),d(Me,{children:[e(se,{borderBottomWidth:"1px",backgroundColor:h(`${o}.300`,`${o}.500`),children:"Pick your theme"}),e(ae,{}),e(le,{children:e(b,{children:Object.keys(R).map((p,v)=>e(I,{p:1,m:1,variant:"outline",colorScheme:p,bgColor:o===p?h(`${p}.300`,`${p}.500`):"transparent",onClick:()=>{r(p),i()},children:p},`${p}-${v}`))})})]})]})]})},ut=({children:n,icon:t,to:i="#"})=>{const o=ve(i),r=Se({path:o.pathname,end:!0}),s=h("primary.300","primary.500");return e(ce,{px:2,py:1,rounded:"md",background:r?s:void 0,_hover:{textDecoration:"none",bg:h("primary.200","primary.700")},as:ne,to:i,children:d(O,{align:"center",p:"2",mx:"2",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{bg:"primary.400",color:"white"},children:[t&&e(A,{mr:"2",fontSize:"16",_groupHover:{color:"white"},color:h("primary.700","primary.200"),as:t}),n]})})},mt=()=>e(b,{style:{left:0,bottom:0,right:0,position:"inherit"},bg:h("primary.200","primary.900"),color:h("primary.700","primary.200"),children:d(Oe,{as:U,maxW:"6xl",py:4,direction:{base:"column",md:"row"},spacing:4,justify:{base:"center",md:"space-between"},align:{base:"center",md:"center"},children:[e(V,{children:`\xA9\uFE0F Petar Zarkov ${new Date().getFullYear()}`}),d(U,{direction:"row",spacing:6,children:[e(re.LinkedIn,{}),e(re.GitHub,{})]})]})}),pt=({to:n="#",icon:t,label:i,btnProps:o,bgHover:r="primary.300"})=>e(ce,{href:n,target:"_blank",children:e(M,{...o,"aria-label":i||n,title:n,variant:"ghost",size:"lg",icon:t,_hover:{bg:r,color:h("primary.50","primary.700")},isRound:!0})}),ht=({content:n,title:t,isOpen:i,onClose:o})=>{const r=h("primary.900","primary.300"),s=h("primary.300","primary.900");return e(F,{children:d(Le,{isOpen:i,onClose:o,motionPreset:"slideInRight",size:"xs",children:[e(oe,{}),d(Ae,{children:[e(se,{backgroundColor:s,height:50,children:t}),e(ae,{}),e(le,{backgroundColor:r,color:s,children:n}),e(De,{backgroundColor:s,h:50,children:e(I,{mr:3,onClick:o,color:r,children:"Close"})})]})]})})},gt=({children:n})=>e(O,{w:12,h:12,align:"center",justify:"center",rounded:"full",bgColor:h("blackAlpha.100","whiteAlpha.100"),mb:1,children:n}),X=n=>e(gt,{children:e(pt,{...n})}),re={GitHub:({to:n=N.github})=>e(X,{to:n,icon:e(Ve,{}),label:"github",btnProps:{fontSize:"3xl"}}),LinkedIn:()=>e(X,{to:N.linkedin,icon:e(qe,{size:"28px"}),label:"linkedin"}),Twitter:()=>e(X,{to:N.twitter,icon:e(We,{size:"28px"}),label:"twitter"})},ft=()=>{const[n,t]=x.exports.useState(0),i=()=>{const s=window.pageYOffset;t(s)},o=h("primary.200","primary.800");x.exports.useEffect(()=>(window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i)}),[]);const r=()=>{window.scrollTo({left:0,top:0,behavior:"smooth"})};return e(F,{children:n>500&&e(b,{position:"fixed",bottom:"90px",right:["8px","84px"],zIndex:1,children:e(I,{onClick:()=>r(),bgGradient:"linear(to-r, primary.400, primary.500, primary.600)",color:o,variant:"ghost",children:e(Ne,{})})})})},yt=()=>d(F,{children:[e(dt,{}),e(O,{bg:h("primary.100","primary.800"),align:"center",justify:"center",minHeight:"84.6vh",children:e(b,{borderRadius:"md",p:0,children:e(Ce,{})})}),e(ft,{}),e(mt,{})]}),ge=({motionStyle:n,gearCount:t,w:i,icon:o})=>{const{isRunning:r,duration:s,isHeated:a,isPaused:l}=k(),u=h("primary.700","primary.100"),m={width:t?i/t:44,height:t?i/t:44,padding:0};return e(w.div,{style:{...m,margin:-.5,...n},animate:!r||l?{}:a&&{rotate:360,transition:{ease:"linear",repeatDelay:.2,duration:s,repeat:1/0}},children:e(A,{as:o||Ye,color:u,style:{...m,margin:0}})})},bt=({w:n})=>{const t=h("primary.900","primary.300");return e(C,{m:0,p:0,border:"5px dashed black",borderRadius:25,borderColor:t,children:[...Array({200:5,460:10,660:15}[n||200]).keys()].map((o,r,s)=>e(ge,{gearCount:s.length,w:n||200},`ConveyorGear${o}`))})},xt=({motionStyle:n,x:t})=>{const{isRunning:o,duration:r,isHeated:s,isPaused:a,setControls:l,score:u}=k(),[m,f]=c.useState(!1),[p,v]=c.useState(!1),[S,Y]=c.useState({one:15,two:15}),G=h("primary.700","primary.100"),P={width:50,height:50,padding:0,margin:0},[$,J]=c.useState(0),[_,Z]=c.useState(!1),E=t/10;c.useEffect(()=>{!o&&m&&f(!1)},[o]),c.useEffect(()=>{l({isExtruding:!0})},[]);const K=(y,Q)=>{const fe=Q-y,ye=Q/r;return fe/ye*r||r};return d(C,{children:[e(W,{mode:"wait",children:m?e(w.div,{style:{...P,...n,x:a?S.two:t/3,...!o&&{visibility:"hidden"},skewY:$},animate:!o||a?{}:s&&{x:t-E,rotate:360,transition:{ease:"linear",duration:K(S.two!==t/3?S.two:t/3,t-E),delay:1,repeat:1/0}},onUpdate:y=>{a||Y({...S,two:y.x}),y.x>=t/2.2&&$!==0&&J(0),y.x>=t/1.5&&!_&&Z(!0),(y.x>=t-E||!o)&&_&&m&&(f(!1),Z(!1),l({isExtruding:!0})),y.x>=t-E&&!p&&u!==u+1&&(l({score:u+1}),v(!0))},children:_?e(T,{src:"images/cookieBaked.png",style:{...P}}):e(A,{as:L,color:G,style:{...P}})},"rawCookie"):e(w.div,{style:{...P,...n,x:a?S.one:15,...!o&&{visibility:"hidden"}},animate:!o||a?{}:s&&{x:t/2,transition:{ease:"linear",duration:K(S.one!==15?S.one:15,t/2),repeatDelay:1,repeat:1/0}},onUpdate:y=>{a||Y({...S,one:y.x}),y.x>=t/3-30&&o&&$!==52&&(l({isStamping:!0}),J(52)),y.x>=t/3&&o&&!m&&f(!0)},children:e(T,{src:"images/jumpyDough.webp",style:{padding:0,margin:0}})},"dough")}),p&&e(w.div,{style:{...P,...n,x:t-E},animate:{x:t,rotate:360,y:50,transition:{ease:"linear",duration:r/2}},onUpdate:y=>{y.x>=t&&v(!1)},children:d(H,{size:"md",variant:"subtle",color:G,children:[e(z,{children:"+1"}),e(de,{as:L,color:G,p:0,m:0})]},"scoreOneTag")},"scoreOne")]})},wt=()=>{const{originalIncrement:n,heatedIncrement:t}={originalIncrement:.05,heatedIncrement:.01},{isRunning:i,setControls:o,isPaused:r,isHeated:s}=k(),a=h("primary.700","primary.100"),l=s?"orange.400":a,{iteration:u,setIteration:m,toggleIteration:f,toggleIncrement:p}=ct(g.initialTemp,n);return c.useEffect(()=>{i&&(p(n),f(!0)),(!i||r)&&p(u>=g.heatedTemp?r?-t:t:n)},[i,r,f]),c.useEffect(()=>{Math.round(u)>=250&&o({temperature:250}),u>=g.heatedTemp?(Math.round(u)===g.heatedTemp&&o({isHeated:!0,temperature:g.heatedTemp}),r||p(t),u>=(g.heatedTemp+g.explodeTemp)/2&&r&&p(-t)):(s&&Math.round(u)<g.heatedTemp&&o({isHeated:!1}),r&&p(t)),i||(s&&o({isHeated:!1,temperature:g.initialTemp}),m(g.initialTemp),f(!1)),Math.round(u)===g.explodeTemp&&(m(g.initialTemp),f(!1),o({isHeated:!1,isRunning:!1,isPaused:!1,isExploded:!0,temperature:g.initialTemp}))},[i,r,u]),d(C,{children:[e(A,{as:s?Ke:Qe,color:l,p:0,m:0}),d(H,{size:"md",variant:"outline",color:l,children:[e(z,{minW:7,children:Math.round(u)}),e(de,{as:Je,color:l,p:0,m:0})]},"temperatureDisplay"),e(Be,{colorScheme:l.replace(/\.(.+)/g,""),hasStripe:!0,value:u,height:35,w:35,min:g.initialTemp,max:g.explodeTemp,style:{borderRadius:5,transform:"rotate(270deg)"}})]})},vt=({x:n})=>{const{isRunning:t,duration:i,isExploded:o,setControls:r,isPaused:s}=k(),a={200:115,460:280,660:400};return c.useEffect(()=>{o&&new Promise(l=>setTimeout(l,2e3)).then(()=>{r({isExploded:!1})})},[o]),e(b,{as:w.div,width:[100,150,180],height:[150,170,170],style:{position:"absolute",padding:0,margin:0,x:a[n]},animate:t?{transition:{ease:"linear",duration:i,repeat:1/0}}:{},children:o?e(T,{src:"images/explosion.webp",w:115,h:115}):d(F,{children:[e(wt,{}),e(T,{as:w.img,src:"images/oven.png",style:{padding:0,margin:0},animate:!t||s?{}:{filter:"hue-rotate(360deg)",transition:{ease:"linear",duration:i,repeat:1/0}}})]})})},St=({x:n})=>{const{isRunning:t,isStamping:i,isPaused:o,setControls:r}=k(),[s,a]=c.useState(0);return e(W,{children:e(w.div,{style:{padding:0,margin:0,width:50,height:50,marginLeft:n/3-50,y:o?s:0},animate:!t||o?{rotate:[-1,1.3,-1.5,1,-.5,0,1,-1.4,0],transition:{repeatDelay:.2,repeat:1/0}}:i?{y:50,transition:{ease:"linear"}}:{y:0,transition:{ease:"linear"}},onUpdate:l=>{!o&&t&&s!==l.y&&a(l.y),l.y>=50&&i&&r({isStamping:!1})},onAnimationComplete:()=>{r({isStamping:!1})},children:e(T,{src:"images/anvil.png",style:{padding:0,margin:0}})})})},Ct=()=>{const{isRunning:n,isPaused:t,isHeated:i,setControls:o,isExtruding:r}=k(),[s,a]=c.useState(1),{toggleInterval:l}=at(()=>{if(s===4){a(1);return}s!==4&&a(s+1)},200);return c.useEffect(()=>(n&&i&&(s!==4&&a(s+1),l(!0)),t&&l(!1),()=>{a(1),l(!1)}),[n,i,t]),c.useEffect(()=>{s===4&&o({isExtruding:!1})},[s]),e(W,{children:e(w.img,{src:r?`images/extruder${s}.png`:"images/extruder1.png",style:{padding:0,margin:0,width:50,height:50,x:15},animate:!n||t?{}:i&&r&&{filter:"hue-rotate(360deg)",transition:{ease:"linear",repeat:1/0}}})})},kt=({w:n})=>{const{isPaused:t,isRunning:i,isHeated:o}=k(),r=h("primary.700","primary.100");return d(b,{p:0,m:0,ml:-30,children:[e(w.div,{animate:t||!i?{}:o&&{rotate:[-1,1.3,-1.5,1,-.5,0,1,-1.4,0],transition:{repeatDelay:.2,repeat:1/0}},children:e(A,{color:r,as:Ze,position:"absolute",w:[100,150,150],h:[55,100,100],transform:"scaleX(-1)",ml:[-55,-100,-100],mt:[4,0,0]})}),e(ge,{w:n||200,icon:Xe},"Motor")]})},It=()=>{const n=c.useRef(null),t=He(n),{isRunning:i,setControls:o,isPaused:r,temperature:s,score:a,highScore:l,isExploded:u}=k(),m=h("primary.900","primary.300"),[f,p]=c.useState(!1);return c.useEffect(()=>{!f&&u&&p(!0)},[u]),d(b,{ref:n,width:[200,460,660],children:[e(ht,{content:`Try not to reach ${g.explodeTemp} degrees. Pausing will help you to reduce the oven's temperature.`,title:`Game Over, score: ${a}`,isOpen:f,onClose:()=>{p(!1)}}),s>=250&&e(T,{pos:"absolute",src:"images/itsHot.webp",w:50,h:50,style:{padding:0,margin:0,marginLeft:100,marginTop:-50}}),d(C,{children:[e(Ct,{}),e(St,{x:(t==null?void 0:t.width)||400})]}),d(C,{p:0,m:0,children:[e(xt,{x:(t==null?void 0:t.width)||400}),e(vt,{x:(t==null?void 0:t.width)||400})]}),d(C,{children:[e(kt,{}),e(bt,{w:t==null?void 0:t.width})]}),e(b,{m:5,children:d(ze,{gap:"4",color:m,children:[e(M,{"aria-label":"btnStart",title:"start",onClick:()=>{(!i||r)&&o({isRunning:!0,isPaused:!1})},size:"lg",isRound:!0,disabled:i&&!r,variant:i?"outline":"solid",icon:e(et,{size:"28px"})}),e(M,{"aria-label":"btnPause",title:"pause",onClick:()=>{i&&!r&&o({isPaused:!0})},size:"lg",isRound:!0,disabled:r||!i,variant:r?"solid":"outline",icon:e(it,{size:"28px"})}),e(M,{"aria-label":"btnStop",title:"stop",onClick:()=>{i&&o({isRunning:!1,isPaused:!1,score:0})},size:"lg",isRound:!0,disabled:!i||r,variant:i?"solid":"outline",icon:e(tt,{size:"28px"})})]})}),d(b,{children:[d(H,{size:"sm",variant:"subtle",color:m,maxW:"50%",children:[e(z,{children:`Score: ${a}`}),e(te,{as:L,color:m,p:0,m:0,ml:1})]},"score"),d(H,{size:"sm",variant:"subtle",color:m,float:"right",maxW:"50%",children:[e(z,{children:`High: ${l}`}),e(te,{as:L,color:m,p:0,m:0,ml:1})]},"highScore")]})]})},Tt=()=>d(b,{textAlign:"center",py:10,px:6,children:[e(Fe,{display:"inline-block",as:"h2",size:"2xl",bgGradient:"linear(to-r, blue.400, blue.600)",backgroundClip:"text",children:"404"}),e(V,{fontSize:"18px",mt:3,mb:2,children:"Page Not Found"}),e(V,{color:"primary.500",mb:6,children:"The page you are looking for does not seem to exist"}),e(I,{as:ne,to:"/",colorScheme:"blue",bgGradient:"linear(to-r, blue.400, blue.500, blue.600)",color:"white",variant:"solid",children:"Go to Home"})]}),Pt=()=>e(ke,{children:d(j,{path:"/",element:e(yt,{}),children:[e(j,{index:!0,element:e(It,{})}),e(j,{path:"*",element:e(Tt,{})})]})});const Et=q.createRoot(document.getElementById("root"));Et.render(e(c.StrictMode,{children:e(Ie,{children:e(nt,{children:e(st,{children:e(Pt,{})})})})}));
